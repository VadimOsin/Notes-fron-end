{"ast":null,"code":"var _jsxFileName = \"D:\\\\PET Project\\\\Memo\\\\memo\\\\src\\\\Components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './CSS/Login.css';\nimport { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { userContext } from \"../context/userContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [log, setLog] = useState({\n    userName: '',\n    password: ''\n  });\n  let navigate = useNavigate();\n  const {\n    setUser\n  } = useContext(userContext);\n\n  const onChange = _ref => {\n    let {\n      target: {\n        name,\n        value\n      }\n    } = _ref;\n    setLog({ ...log,\n      [name]: value\n    });\n  };\n\n  const onSubmit = async event => {\n    console.log(\"env   \" + process.env.REACT_APP_API_URL);\n\n    if (event) {\n      event.preventDefault();\n    }\n\n    try {\n      const response = await axios({\n        method: 'post',\n        url: `${process.env.REACT_APP_API_URL}/login`,\n        data: {\n          \"userName\": log.userName,\n          \"password\": log.password\n        }\n      });\n      setUser({\n        id: response.data.id,\n        userName: response.data.username,\n        password: response.data.password,\n        role: response.data.role,\n        isAuth: true\n      });\n      navigate(\"/\");\n    } catch (e) {\n      alert(e.data);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    className: \"login\",\n    onSubmit: onSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      controlId: \"formBasicEmail\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"UserName\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        placeholder: \"userName\",\n        name: \"userName\",\n        value: log.userName,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      controlId: \"formBasicPassword\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"password\",\n        placeholder: \"Password\",\n        name: \"password\",\n        value: log.password,\n        onChange: onChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"zBUMhZ7b+DjHV/iFwdidFK/2o8w=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Button","Form","useContext","useState","axios","userContext","useNavigate","Login","log","setLog","userName","password","navigate","setUser","onChange","target","name","value","onSubmit","event","console","process","env","REACT_APP_API_URL","preventDefault","response","method","url","data","id","username","role","isAuth","e","alert"],"sources":["D:/PET Project/Memo/memo/src/Components/Login.js"],"sourcesContent":["import Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './CSS/Login.css'\r\nimport {useContext, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {userContext} from \"../context/userContext\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\n\r\nfunction Login() {\r\n    const [log, setLog] = useState({\r\n        userName: '', password: ''\r\n    });\r\n\r\n    let navigate = useNavigate();\r\n\r\n    const {setUser} = useContext(userContext)\r\n\r\n    const onChange = ({target: {name, value}}) => {\r\n        setLog({...log, [name]: value})\r\n    };\r\n    const onSubmit = async (event) => {\r\n        console.log(\"env   \"+ process.env.REACT_APP_API_URL)\r\n        if (event) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        try {\r\n            const response = await axios({\r\n                method: 'post',\r\n                url: `${process.env.REACT_APP_API_URL}/login`,\r\n                data: {\r\n                    \"userName\": log.userName,\r\n                    \"password\": log.password\r\n                }\r\n            })\r\n            setUser({\r\n                id: response.data.id,\r\n                userName: response.data.username,\r\n                password: response.data.password,\r\n                role: response.data.role,\r\n                isAuth: true\r\n            })\r\n            navigate(\"/\")\r\n        } catch (e) {\r\n            alert(e.data)\r\n        }\r\n    };\r\n    return (\r\n        <Form className=\"login\" onSubmit={onSubmit}>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                <Form.Label>UserName</Form.Label>\r\n                <Form.Control placeholder=\"userName\" name=\"userName\"\r\n                              value={log.userName}\r\n                              onChange={onChange}/>\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" placeholder=\"Password\" name=\"password\"\r\n                              value={log.password}\r\n                              onChange={onChange}/>\r\n            </Form.Group>\r\n\r\n            <Button variant=\"primary\" type=\"submit\">\r\n                Submit\r\n            </Button>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}